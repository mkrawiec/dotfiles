#!/usr/bin/env bash

declare -r SS_PATH=$HOME/screenshots/%Y-%m-%d-%T-screenshot.png
declare -r DELAY=2
declare -r QUALITY=100


exec_str()
{
    echo -n 'notify-send "Screenshot saved" "$n"; '
    echo -n 'viewnior $f'
}

ss_select()
{
    scrot $SS_PATH -d $DELAY -q $QUALITY -sbe "`exec_str`"
}

ss_screen()
{
    scrot $SS_PATH -d $DELAY -q $QUALITY -e "`exec_str`"
}

main()
{
    local action=$1; shift

    case $action in
        select) ss_select $@ ;;
        screen) ss_screen $@ ;;
    esac
}

main $@

