###############################
#           GENERAL           #
###############################

# aliases
set $mod Mod4
set $exe exec --no-startup-id

# font
font pango: Iosevka Medium 11

# gaps
gaps inner 10
smart_gaps on
smart_borders on

# custom workspace names
set $ws1  "1:  "
set $ws2  "2:  "
set $ws3  "3:  "
set $ws4  "4:  "
set $ws5 5: sci

# small window borders and no bars
new_window pixel 3
new_float pixel 3

# focus doesn't follow mouse
focus_follows_mouse no

# autostart *.desktop files
$exe dex-xdg -ae i3


###############################
#  ASSIGN APPS TO WORKSPACES  #
###############################


###############################
#        KEYBINDINGS          #
###############################

# use $mod for draging floating windows
floating_modifier $mod

# start a terminal
bindsym $mod+Return $exe termite

# kill focused window
bindsym $mod+Shift+q kill

# change focus
bindsym $mod+h focus left
bindsym $mod+j focus down
bindsym $mod+k focus up
bindsym $mod+l focus right

# move focused window
bindsym $mod+Shift+h move left
bindsym $mod+Shift+j move down
bindsym $mod+Shift+k move up
bindsym $mod+Shift+l move right

# split in horizontal orientation
bindsym $mod+b split h

# split in vertical orientation
bindsym $mod+v split v

# enter fullscreen mode for the focused container
bindsym $mod+f fullscreen

# change container layout (stacked, tabbed, toggle split)
bindsym $mod+s layout stacking
bindsym $mod+w layout tabbed
bindsym $mod+e layout toggle split

# toggle tiling / floating
bindsym $mod+Shift+space floating toggle

# change focus between tiling / floating windows
bindsym $mod+space focus mode_toggle

# focus the parent container
bindsym $mod+a focus parent

# focus the child container
#bindsym $mod+d focus child

# switch to workspace
bindsym $mod+1 workspace $ws1
bindsym $mod+2 workspace $ws2
bindsym $mod+3 workspace $ws3
bindsym $mod+4 workspace $ws4
bindsym $mod+5 workspace $ws5
bindsym $mod+6 workspace 6
bindsym $mod+7 workspace 7
bindsym $mod+8 workspace 8
bindsym $mod+9 workspace 9
bindsym $mod+0 workspace 10

# move focused container to workspace
bindsym $mod+Shift+1 move container to workspace $ws1
bindsym $mod+Shift+2 move container to workspace $ws2
bindsym $mod+Shift+3 move container to workspace $ws3
bindsym $mod+Shift+4 move container to workspace $ws4
bindsym $mod+Shift+5 move container to workspace $ws5
bindsym $mod+Shift+6 move container to workspace 6
bindsym $mod+Shift+7 move container to workspace 7
bindsym $mod+Shift+8 move container to workspace 8
bindsym $mod+Shift+9 move container to workspace 9
bindsym $mod+Shift+0 move container to workspace 10

# reload the configuration file
bindsym $mod+Shift+c reload
# restart i3 inplace (preserves your layout/session, can be used to upgrade i3)
bindsym $mod+Shift+r restart


###############################
#            MODES            #
###############################

# resize mode
bindsym $mod+r mode "  "
mode "  " {
        bindsym h resize shrink width 10 px or 10 ppt
        bindsym j resize grow height 10 px or 10 ppt
        bindsym k resize shrink height 10 px or 10 ppt
        bindsym l resize grow width 10 px or 10 ppt

        # back to normal: Enter or Escape
        bindsym Return mode "default"
        bindsym Escape mode "default"
}


# exit mode
set $logout "Exit >> (L)ogout (R)eboot (P)oweroff (S)uspend L(o)ck"
mode $logout {
    bindsym l exit
    bindsym r exec systemctl reboot, mode "default"
    bindsym p exec systemctl poweroff, mode "default"
    bindsym s exec systemctl suspend, mode "default"
    bindsym o exec slock, mode "default"

    # back to normal: Enter or Escape
    bindsym Return mode "default"
    bindsym Escape mode "default"
}

bindsym $mod+Shift+e mode $logout


###############################
#           COLORS            #
###############################

# Hybrid colors
set $back               #232C31
set $black              #2D3C46
set $grey               #425059
set $lightgrey          #6C7A80
set $white              #C5C8C6
set $red                #CC6666
set $darkred            #A54242
set $green              #B5BD68
set $darkgreen          #8C9440
set $blue               #81a2be
set $darkblue           #5F819d

#class                  border      backgr.     text        split
client.focused          $green      $green      $black      $red
client.focused_inactive $grey       $grey       $lightgrey  $grey
client.unfocused        $grey       $grey       $lightgrey  $grey
client.urgent           $red        $red        $black      $red
client.background       $back

###############################
#            BAR              #
###############################
bar {
    status_command i3blocks
    position top
    font pango:Iosevka Medium, FontAwesome 11
    strip_workspace_numbers yes
    separator_symbol "■"
    bindsym button4 nop
    bindsym button5 nop
    tray_padding 4
    height 24

    colors {
        background  #151b1e
        statusline  $white
        separator   $lightgrey

        #class                  border      backgr.      text
        inactive_workspace      $grey       $black       $lightgrey
        focused_workspace       $green      $darkgreen   #ffffff
        active_workspace        $red        $darkred     #ffffff
        urgent_workspace        $red        $darkred     #ffffff
        binding_mode            $blue       $darkblue    #ffffff
    }
}
